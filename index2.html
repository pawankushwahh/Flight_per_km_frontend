<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Cost Intelligence System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/skyscanner-style.css">
    <link rel="stylesheet" href="assets/css/how-it-works.css">
    <link rel="icon" href="https://img.icons8.com/fluency/48/airplane-mode-on.png" type="image/png">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-container">
            <div class="logo">
                <a href="index.html"><i class="fas fa-plane"></i> Flight Cost Intelligence</a>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="compare.html" class="nav-link">Compare</a>
                <a href="predictor.html" class="nav-link">Predictor</a>
                <a href="optimizer.html" class="nav-link">Optimizer</a>
                <a href="heatmap.html" class="nav-link">Heatmap</a>
                <a href="faq.html" class="nav-link">FAQ</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="animate-fadeIn">Make Smarter Flight Decisions</h1>
                <p class="animate-fadeIn">Compare flight costs per kilometer, predict pricing trends, and optimize your travel routes for maximum value.</p>
                
                <!-- Skyscanner-style search box -->
                <div class="search-box animate-fadeIn">
                    <div class="search-tabs">
                        <div class="search-tab active">Compare Routes</div>
                        <div class="search-tab">Price Trends</div>
                        <div class="search-tab">Optimize Routes</div>
                    </div>
                    
                    <form id="search-form" class="search-form">
                        <div class="search-input-group">
                            <label class="search-input-label">From</label>
                            <select id="origin" class="search-input" required>
                                <option value="">Select origin</option>
                            </select>
                        </div>
                        
                        <div class="search-input-group">
                            <label class="search-input-label">To</label>
                            <select id="destination" class="search-input" required>
                                <option value="">Select destination</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="search-button">
                            <i class="fas fa-search"></i> Compare
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <div class="section-title">
                <h2>Powerful Flight Analysis Tools</h2>
                <p>Our intelligent system helps you analyze flight costs in multiple ways</p>
            </div>

            <div class="features-row">
                <!-- First Row -->
                <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1569154941061-e231b4725ef1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <h3>Per-Kilometer Cost Comparison</h3>
                            <p>Compare the true value of flights by analyzing cost per kilometer across different routes.</p>
                            <a href="compare.html" class="feature-btn">Compare Now <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>

                <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>Dynamic Pricing Analyzer</h3>
                            <p>Analyze historical trends to find the best time to traver at the lowest cost per km.</p>
                            <a href="predictor.html" class="feature-btn">Predict Prices <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>

                <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1508672019048-805c876b67e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <h3>Geo-based Route Optimizer</h3>
                            <p>Discover nearby alternative airports that could save you money on your journey.</p>
                            <a href="optimizer.html" class="feature-btn">Optimize Route <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="features-row">
                <!-- Second Row -->
                <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1530521954074-e64f6810b32d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-plane-departure"></i>
                            </div>
                            <h3>Layover Value Analyzer</h3>
                            <p>Compare direct flights with layover options to see if the savings are worth the extra time.</p>
                            <a href="optimizer.html#layover" class="feature-btn">Analyze Layovers <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1540339832862-474599807836?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-crown"></i>
                            </div>
                            <h3>Class Efficiency Explorer</h3>
                            <p>Determine if upgrading to a higher class is worth the additional cost per kilometer.</p>
                            <a href="optimizer.html#class" class="feature-btn">Explore Classes <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div> -->

                <div class="features-card-container">
                    <div class="feature-card" style="background-image: url('https://images.unsplash.com/photo-1576153192621-7a3be10b356e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                        <div class="feature-content">
                            <div class="feature-icon">
                                <i class="fas fa-globe"></i>
                            </div>
                            <h3>Indian Cost-per-Km Heat Map</h3>
                            <p>Visualize flight costs across different regions in India to identify travel bargains nationwide.</p>
                            <a href="heatmap.html" class="feature-btn">View Heatmap <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Popular Routes Section (Dynamic Data) -->
    <section class="popular-routes">
        <div class="container">
            <div class="section-title">
                <h2>Popular Indian Routes</h2>
                <p>Explore the most popular flight routes in India and their cost per kilometer</p>
            </div>
            
            <div class="routes-container">
                <div id="routes-loading" class="text-center p-5">
                    <div class="spinner"></div>
                    <p class="mt-3">Loading popular routes...</p>
                </div>
                
                <div id="routes-content" class="popular-routes-grid" style="display: none;">
                    <!-- This will be populated dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <div class="container">
            <div class="section-title">
                <h2>How It Works</h2>
                <p>Getting started with our Flight Cost Intelligence System is easy</p>
            </div>

            <div class="steps-container">
                <div class="step-item animate-on-scroll" data-delay="0">
                    <div class="step-icon pulse-animation">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="step-content">
                        <div class="step-number">1</div>
                        <h3>Select Your Routes</h3>
                        <p>Choose two or more airport pairs you want to compare or analyze.</p>
                        <a href="compare.html" class="step-link">Try it <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <div class="step-item animate-on-scroll" data-delay="0.15">
                    <div class="step-icon pulse-animation">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <div class="step-content">
                        <div class="step-number">2</div>
                        <h3>View Analysis</h3>
                        <p>Our system calculates per-kilometer costs and provides detailed comparisons with interactive visualizations.</p>
                        <a href="visualizations.html" class="step-link">See analytics <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <div class="step-item animate-on-scroll" data-delay="0.3">
                    <div class="step-icon pulse-animation">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="step-content">
                        <div class="step-number">3</div>
                        <h3>Optimize Your Travel</h3>
                        <p>Use our insights to make smarter booking decisions and save money on your flights.</p>
                        <a href="optimizer.html" class="step-link">Optimize now <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <div class="cta-content">
                <div class="cta-text">
                    <h2>Ready to Find the Best Flight Value?</h2>
                    <p>Start comparing flight costs per kilometer and make smarter travel decisions today.</p>
                </div>
                <div class="cta-action">
                    <a href="compare.html" class="cta-button">Start Comparing <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-plane"></i> Flight Cost Intelligence
                    </div>
                    <p>Making air travel more transparent and cost-effective through per-kilometer analysis.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Tools</h3>
                    <ul class="footer-links">
                        <li><a href="compare.html">Route Comparison</a></li>
                        <li><a href="predictor.html">Price Prediction</a></li>
                        <li><a href="optimizer.html">Route Optimization</a></li>
                        <li><a href="heatmap.html">Cost Heatmap</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>Flight Cost Intelligence is a cutting-edge platform designed to help travelers make informed decisions through data-driven insights.</p>
                    <p><i class="fas fa-map-marker-alt"></i> New Delhi, India</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Flight Cost Intelligence System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
                    // Remove active class from all tabs
                    searchTabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
        // Function to populate airport dropdowns
        function populateAirportDropdowns() {
            const originSelect = document.getElementById('origin');
            const destinationSelect = document.getElementById('destination');
            
            // Clear existing options
            originSelect.innerHTML = '<option value="">Select origin</option>';
            destinationSelect.innerHTML = '<option value="">Select destination</option>';
            
            // Use the POPULAR_AIRPORTS array from config.js
            if (typeof CONFIG !== 'undefined' && CONFIG.POPULAR_AIRPORTS) {
                CONFIG.POPULAR_AIRPORTS.forEach(airport => {
                    const originOption = document.createElement('option');
                    originOption.value = airport.code;
                    originOption.textContent = `${airport.name} (${airport.code})`;
                    originSelect.appendChild(originOption);
                    
                    const destOption = document.createElement('option');
                    destOption.value = airport.code;
                    destOption.textContent = `${airport.name} (${airport.code})`;
                    destinationSelect.appendChild(destOption);
                });
            }
        }
        
        // Load airports when page loads
        document.addEventListener('DOMContentLoaded', populateAirportDropdowns);

        // Function to load popular routes
        function loadPopularRoutes() {
            const routesContainer = document.getElementById('routes-content');
            const loadingElement = document.getElementById('routes-loading');
            
            // Create popular route pairs from major Indian cities
            const popularRoutePairs = [
                { origin: 'DEL', destination: 'BOM' },  // Delhi to Mumbai
                { origin: 'BLR', destination: 'DEL' },  // Bangalore to Delhi
                { origin: 'MAA', destination: 'BOM' },  // Chennai to Mumbai
                { origin: 'CCU', destination: 'DEL' },  // Kolkata to Delhi
                { origin: 'HYD', destination: 'BLR' },  // Hyderabad to Bangalore
                { origin: 'PNQ', destination: 'DEL' },  // Pune to Delhi
                { origin: 'COK', destination: 'BLR' },  // Kochi to Bangalore
                { origin: 'AMD', destination: 'BOM' }   // Ahmedabad to Mumbai
            ];
            
            // Fetch data from API using the endpoint from CONFIG
            fetch(`${CONFIG.API_BASE_URL}${CONFIG.ENDPOINTS.COMPARE}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    routes: popularRoutePairs
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success && data.data && data.data.length > 0) {
                    // Create HTML for routes
                    let routesHTML = '';
                    
                    data.data.forEach(route => {
                        // Calculate a savings percentage based on average cost per km in India
                        const avgCostPerKm = 4.8; // Average cost per km for Indian domestic flights
                        const savingsPercent = Math.round((avgCostPerKm - route.cost_per_km) / avgCostPerKm * 100);
                        const savingsClass = savingsPercent > 0 ? 'savings-positive' : 'savings-negative';
                        
                        routesHTML += `
                            <div class="route-card">
                                <div class="route-card-header">
                                    <div class="route-airports">
                                        <span class="route-origin">${route.origin}</span>
                                        <span class="route-arrow"><i class="fas fa-long-arrow-alt-right"></i></span>
                                        <span class="route-destination">${route.destination}</span>
                                    </div>
                                    <div class="route-airline">
                                        <i class="fas fa-plane"></i> ${route.airline}
                                    </div>
                                </div>
                                <div class="route-card-body">
                                    <div class="route-details">
                                        <div class="route-distance">
                                            <i class="fas fa-route"></i> ${route.distance} km
                                        </div>
                                        <div class="route-cost-per-km">
                                            <i class="fas fa-tag"></i> ₹${route.cost_per_km}/km
                                        </div>
                                    </div>
                                    <div class="route-price">
                                        <div class="price-amount">₹${route.price}</div>
                                        <div class="price-savings ${savingsClass}">
                                            ${savingsPercent > 0 ? `${savingsPercent}% cheaper than average` : `${Math.abs(savingsPercent)}% more expensive than average`}
                                        </div>
                                    </div>
                                </div>
                                <div class="route-card-footer">
                                    <a href="compare.html?origin=${route.origin}&destination=${route.destination}" class="route-compare-btn">
                                        Compare this route <i class="fas fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        `;
                    });
                    
                    routesContainer.innerHTML = routesHTML;
                    routesContainer.style.display = 'block';
                    loadingElement.style.display = 'none';
                } else {
                    routesContainer.innerHTML = '<div class="alert alert-warning">No popular routes found.</div>';
                    routesContainer.style.display = 'block';
                    loadingElement.style.display = 'none';
                }
            })
            .catch(error => {
                console.error('Error loading popular routes:', error);
                routesContainer.innerHTML = `<div class="alert alert-danger">Error loading popular routes: ${error.message}</div>`;
                routesContainer.style.display = 'block';
                loadingElement.style.display = 'none';
            });
        }

        // Load popular routes when page loads
        document.addEventListener('DOMContentLoaded', loadPopularRoutes);

        // Handle form submission
        document.getElementById('search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            
            if (origin && destination) {
                // Redirect to compare page with query parameters
                window.location.href = `compare.html?origin=${origin}&destination=${destination}`;
            }
        });
    </script>
</body>
</html>
